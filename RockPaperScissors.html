<script>
function playerPlay () {

    do {
    var playerInput = prompt("Enter your selection (i.e. Rock, Paper, Scissors)");
    } while(!validateInput(playerInput.toLowerCase()));
    
  return playerInput.toLowerCase();
}

function validateInput (input) {
  let flag = false;
  
    switch (input) {
      case "rock":
        flag = true;
        break;
      case "paper":
        flag = true;
        break;
      case "scissors":
        flag = true;
        break;
      default:
        console.log("Only type in specified options!!");
        break;
    }    
    return flag;
}

function computerPlay () {
  let compsInput = Math.floor((Math.random() * 3) + 1);
  let compsPlay = "";
  
  switch (compsInput) {
    case 1:
      compsPlay = "rock";
      break;
    case 2:
      compsPlay = "paper";
      break;
    case 3:
      compsPlay = "scissors";
      break;      
  }
  return compsPlay;
}

function playRound (playerSelection, computerSelection) {
  console.log("Computer selected: " + computerSelection); 
  if (playerSelection === computerSelection) {
    var result = "It's a tie!";
  }
  else if (playerSelection !== computerSelection) {
    if (playerSelection === "rock" && computerSelection === "scissors") {
      var result = "You win! Rock beats Scissors";      
    }
    else if (playerSelection === "rock" && computerSelection === "paper") {
      var result = "You lose! Paper beats Rock";      
  }
    if (playerSelection === "paper" && computerSelection === "rock") {
      var result = "You win! Paper beats Rock";      
    }
    else if (playerSelection === "paper" && computerSelection === "scissors") {
      var result = "You lose! Scissors beats Rock";       
    }
    if (playerSelection === "scissors" && computerSelection === "paper") {
      var result = "You win! Scissors beats Paper";       
    }
    else if (playerSelection === "scissors" && computerSelection === "rock") {
      var result = "You lose! Rock beats Scissors";      
    }
  }
  console.log(result);
  return result;
}

function game () {
  let round = 0;
  let playerWin = 0;
  let computerWin = 0;
  let tie = 0;
  
  while (round < 5) {
    let gameResult = playRound(playerPlay(), computerPlay());
    
    if (gameResult.includes("win")) {
      playerWin++;
    }
    else if (gameResult.includes("lose")) {
      computerWin++;
    }
    else if (gameResult.includes("tie")) {
      tie++;
    }
    round++;
  }
  let finalResult = playerWin - computerWin;
  
  if (finalResult > 0) {
    console.log("Player wins! " + playerWin + "W/" + computerWin + "L/" + tie + "D");
  }
  else if (finalResult < 0) {
    console.log("Computer wins! " + playerWin + "W/" + computerWin + "L/" + tie + "D");
  }
  else {
    console.log("Draw! " + computerWin + "W/" + playerWin + "L/" + tie + "D");
  }
}

game();

</script>